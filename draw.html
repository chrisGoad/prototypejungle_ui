{{boilerplate0}}
<!--
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script src="js/color_picker.js"></script>
<script src="ace-builds/src-min-noconflict/ace.js"></script>  
-->
<script nomodule>
        location.href = "/nomodules.html"
</script>
 
<script type="module">
  {{mainImports}}
import * as tree from "/js/tree-1.1.0.min.js";
import * as catalog from "/js/catalog-1.1.0.min.js";
import * as editor from "/js/editor-1.1.0.min.js";


/* make the modules available in all contexts */
Window.core = core;Window.geom=geom;Window.dom=dom;
//Window.fb=fb;
Window.graph = graph;Window.ui=ui;
Window.editor=editor;
Window.catalog = catalog;

fb.initFirebase(); 
window.addEventListener("DOMContentLoaded", function() { 
  debugger;
  core.debugMode(true);
  core.vars.historyEnabled = false;
  core.vars.tlogActive = true; // controls time logging (core.tlog)
  core.vars.activeConsoleTags = ['error','install'];//'install'];//'control'
  core.vars.stripeInstalled = true;
  core.vars.photoMode = true;
  core.vars.maxSaveLength = 5000000; // this should match the limit in the storage rules for firebase
  //core.vars.svgwd = 200;
   //core.vars.svght = 100;
  ui.vars.jumpToImage = 1;
  ui.vars.whichPage = 'structure_editor';
  ui.vars.defaultCatalog = '(sys)/catalog/global.catalog';
  ui.vars.fitFactor = 0.8;
  ui.vars.fitMode = true;// auto-fit items into graphics, with the given factor
  dom.vars.stdExtent = geom.Point.mk(200,200); // if there is no initial content, this is the area in image space originally in view
  core.tlog('doc ready');
  core.loadTopDefs(editor.initPage);// binds modules to global
});
</script>
 

<div id="main" style="display:none"> 
  <div id="topbar"> 
   <div id="topbarOuter" style="color:black;">
      <div id="title" style="display:inline-block">
        <div><span class="mainTitle">{{ProjectName}}<!--(&beta;)--></span> <span style="font-size:8pt">Draw</span></div>
      </div>
      <div id = "topbarInner" style="float:right"></div>
   </div>

   <div id="error"></div>
  </div>  
</div>
<canvas id="inputCanvas"></canvas> 

<canvas id="imageCanvas"></canvas> <!-- used for image conversions to jpeg-->




</body>
</html>
